================================================================================
                                样例使用说明
================================================================================
版本历史
日期        版本    负责人         IAR     MDK     GCC     描述
2019-07-04  1.0     Hongjh         7.70    5.16    8.3.1   first version
================================================================================
平台说明
================================================================================
GCC工程，由Eclipse IDE外挂GNU-ARM Toolchain，再结合pyOCD GDB Server实现工程的编译、
链接和调试。在用Eclipse导入工程后，请将xxxx_PyOCDDebug中pyocd-gdbserver和SVD文件
设置为正确的路径；请将xxxx_PyOCDDownload中pyocd设置为正确的路径。注意，这些路径不
能包含非英文字符。


功能描述
================================================================================
本样例主要展示CTC通过外部高速时钟校准内部高速振荡器HRC。

说明：
1、首先设置CTC_CR1 TRMVAL为0x21，使内部高速时钟频率在48±0.24MHz范围外
2、然后通过外部高速时钟20MHz校准内部高速时钟48MHz，校准偏差为0.5%，目标频率为
   48±0.24MHz范围内

================================================================================
测试环境
================================================================================
测试用板:
---------------------
STK_HC32M120_LQFP48_050_V11

辅助工具:
---------------------
无

辅助软件:
---------------------
串口助手

================================================================================
使用步骤
================================================================================
1）将引脚J6-P15与示波器相连，该引脚为内部时钟输出信号;
2）连接DAP模块J9,J10
3）打开串口助手软件，配置端口如下参数
     波特率：115200
     数据位：8
     校验位：None
     停止位：1
4）打开工程，修改文件hc32m120_icg.h如下宏定义
   #if ICG0_HRC_HARDWARE_START == ICG_FUNCTION_ON
       #define ICG0_HRC_REG_CONFIG                 ((uint32_t)ICG0_HRC_REQS)
   #else
       #define ICG0_HRC_REG_CONFIG                 ((uint32_t)ICG_HRC_FREQ_48MHZ)
   #endif
5）重新编译，下载代码
6）观察示波器，查看波形频率为48±0.24MHz范围外
7）按测试板SW2按键
8）查看RGB LED灯状态
   若RGB绿色LED灯点亮，表示Trimming成功，查看串口助手打印信息
   若RGB红色LED灯点亮，表示Trimming失败
9）观察示波器，查看波形频率为48±0.24MHz范围内，符合预期
10）按测试板NRST按键，复位开发板
11）重复步骤6）~10），观察LED灯状态和串口助手打印信息

================================================================================
注意
================================================================================
操作CTC前，需确保CTC为停止状态

================================================================================
